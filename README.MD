npx expo install expo-router react-native-safe-area-context react-native-screens expo-linking expo-constants expo-status-bar expo-font expo-splash-screen

2.- package.json modificar el main a expo-router/entry

3.-app.json agregar la config de expo-router

4.- Logo al index

5.- COntenido de App.js al index.js

6.- Crear un archivo babel.config.js

7.- Reiniciar el proyecto.

8.- Crear un Link para el nuevo componente about.js
En el index.js se crea el Link para about
en \_layout.js se a√±ade la configuracion para la nueva pantalla.

9.- En index.js se le a√±ade los insets para el padding Top y Bottom con el fin de no tapar el status bar.

Para iconos: https://icons.expo.fyi/Index npm install @expo/vector-icons

## 10.- Implementar Rutas Din√°micas con Expo Router

### Paso 1: Crear funci√≥n en lib/rickyMorty.js para obtener detalles del episodio

```javascript
export async function getEpisodeDetails(episodeId) {
  const EPISODE_URL = `https://rickandmortyapi.com/api/episode/${episodeId}`;

  try {
    const rawData = await fetch(EPISODE_URL);
    const json = await rawData.json();

    const { id, name, air_date, episode } = json;

    return {
      id,
      name,
      air_date,
      episode,
    };
  } catch (error) {
    console.error("Error fetching episode details:", error);
    throw error;
  }
}
```

### Paso 2: Crear componente EpisodeDetails.jsx

Crear un componente que muestre la informaci√≥n del episodio con estilos acordes a la aplicaci√≥n.

### Paso 3: Crear archivo [id].js en la carpeta app

Este archivo maneja rutas din√°micas. El nombre entre corchetes [id] indica que es un par√°metro din√°mico.

```javascript
import { useLocalSearchParams } from "expo-router";

export default function EpisodePage() {
  const { id } = useLocalSearchParams(); // Obtiene el par√°metro din√°mico
  // ... resto del c√≥digo
}
```

### Paso 4: Actualizar \_layout.js para incluir la nueva ruta

```javascript
<Stack.Screen
  name="[id]"
  options={{
    title: "Detalles del Episodio",
    headerStyle: { backgroundColor: "#333" },
    headerTintColor: "#fff",
  }}
/>
```

### Paso 5: Hacer navegable el CharacterCard

- Envolver la imagen en TouchableOpacity
- Extraer el ID del episodio de la URL: `character.episode[0]`
- Usar `router.push(`/${episodeId}`)` para navegar

### Funcionamiento de Rutas Din√°micas:

- **[id].js** ‚Üí Acepta cualquier valor como par√°metro
- **Navegaci√≥n**: `/1`, `/2`, `/3`, etc.
- **Obtener par√°metro**: `useLocalSearchParams()`
- **API Call**: Usar el ID para hacer fetch a la API correspondiente

### Resultado:

Al tocar la imagen de un personaje ‚Üí Navega a los detalles de su primer episodio

-----------------Redux
npm install @reduxjs/toolkit react-redux

## 11.- Implementar Redux para Cache de Personajes

### Paso 1: Crear la estructura de carpetas

```
store/
‚îú‚îÄ‚îÄ index.js          (Store principal)
‚îî‚îÄ‚îÄ charactersSlice.js (Slice de personajes)
```

### Paso 2: Crear charactersSlice.js

- Definir estado inicial: `{ data: [], loading: false, error: null, lastFetch: null }`
- Crear `fetchCharacters` thunk con `createAsyncThunk`
- Definir reducers para manejar pending, fulfilled, rejected

### Paso 3: Configurar el store en store/index.js

```javascript
import { configureStore } from "@reduxjs/toolkit";
import charactersReducer from "./charactersSlice";

export const store = configureStore({
  reducer: {
    characters: charactersReducer,
  },
});
```

### Paso 4: Configurar Provider en \_layout.js

```javascript
import { Provider } from "react-redux";
import { store } from "../store";

export default function RootLayout() {
  return <Provider store={store}>{/* ... resto del c√≥digo */}</Provider>;
}
```

### Paso 5: Actualizar Main.jsx para usar Redux

- Reemplazar `useState` y `useEffect` con `useSelector` y `useDispatch`
- Implementar cache inteligente (solo fetch si no hay datos o han pasado 5 min)
- Agregar pull-to-refresh y manejo de errores

### Beneficios del Cache con Redux:

‚úÖ **Performance**: No m√°s fetch repetidos innecesarios
‚úÖ **Offline**: Datos disponibles sin conexi√≥n
‚úÖ **UX**: Carga instant√°nea en navegaciones
‚úÖ **Pull-to-refresh**: Actualizaci√≥n manual disponible
‚úÖ **Manejo de errores**: Bot√≥n de reintentar
‚úÖ **Cache inteligente**: Auto-refresh cada 5 minutos

---

## 12.- Redux Explicado de Manera Sencilla

### üè¶ Analog√≠a: Redux es como un Banco

Imagina que Redux es un **banco** y tu aplicaci√≥n son las **personas** que necesitan dinero:

#### üè™ **Store (Banco)**

- Es el **lugar central** donde se guarda todo el dinero (datos)
- Solo hay **UN banco** para toda la ciudad (aplicaci√≥n)
- Todos pueden ver cu√°nto dinero hay, pero nadie puede tomarlo directamente

#### üìã **State (Estado del Banco)**

```javascript
// Estado actual del banco
{
  dineroTotal: 1000,
  clientes: ['Juan', 'Mar√≠a'],
  sucursalesAbiertas: 3
}
```

#### üìù **Actions (Solicitudes al Banco)**

Son como **formularios** que llenas para pedir algo al banco:

```javascript
// "Quiero depositar $100"
{
  type: 'DEPOSITAR',
  cantidad: 100,
  cliente: 'Juan'
}

// "Quiero retirar $50"
{
  type: 'RETIRAR',
  cantidad: 50,
  cliente: 'Mar√≠a'
}
```

#### üèõÔ∏è **Reducer (Cajero del Banco)**

Es el **empleado** que recibe tu solicitud y actualiza los registros:

```javascript
function bancarioReducer(estadoActual, solicitud) {
  switch (solicitud.type) {
    case "DEPOSITAR":
      return {
        ...estadoActual,
        dineroTotal: estadoActual.dineroTotal + solicitud.cantidad,
      };
    case "RETIRAR":
      return {
        ...estadoActual,
        dineroTotal: estadoActual.dineroTotal - solicitud.cantidad,
      };
    default:
      return estadoActual;
  }
}
```

#### üìû **Dispatch (Enviar Solicitud)**

Es como **entregar el formulario** al cajero:

```javascript
// Juan entrega su formulario de dep√≥sito
dispatch({ type: "DEPOSITAR", cantidad: 100, cliente: "Juan" });
```

### üîÑ **Flujo Completo de Redux:**

```
1. Juan quiere depositar dinero üí∞
   ‚Üì
2. Llena un formulario (Action) üìù
   ‚Üì
3. Entrega el formulario (Dispatch) üì§
   ‚Üì
4. El cajero procesa la solicitud (Reducer) üèõÔ∏è
   ‚Üì
5. Se actualiza el registro del banco (State) üìä
   ‚Üì
6. Todos pueden ver el nuevo saldo (Components) üëÄ
```

### üéØ **¬øPor qu√© usar Redux?**

#### ‚ùå **Sin Redux (Casa sin banco):**

```javascript
// Cada persona guarda su dinero en su casa
function PersonaJuan() {
  const [miDinero, setMiDinero] = useState(100);
  // Juan no sabe cu√°nto tiene Mar√≠a
}

function PersonaMar√≠a() {
  const [miDinero, setMiDinero] = useState(200);
  // Mar√≠a no sabe cu√°nto tiene Juan
}
```

#### ‚úÖ **Con Redux (Banco central):**

```javascript
// Todos pueden ver el estado del banco
function PersonaJuan() {
  const dineroTotal = useSelector((state) => state.dineroTotal);
  // Juan puede ver todo el dinero disponible
}

function PersonaMar√≠a() {
  const dineroTotal = useSelector((state) => state.dineroTotal);
  // Mar√≠a tambi√©n puede ver todo
}
```

### üöÄ **En tu App de Rick y Morty:**

#### üì¶ **Store**: Almac√©n de personajes

#### üìã **State**: Lista de personajes cargados

#### üìù **Action**: "FETCH_CHARACTERS", "ADD_FAVORITE"

#### üèõÔ∏è **Reducer**: Funci√≥n que actualiza la lista

#### üìû **Dispatch**: `dispatch(fetchCharacters())`

### üí° **Conceptos Clave:**

1. **Un solo Store**: Una sola fuente de verdad
2. **Estado inmutable**: Nunca modificas directamente, siempre creas nuevo
3. **Flujo unidireccional**: Action ‚Üí Reducer ‚Üí State ‚Üí Component
4. **Predictible**: Misma acci√≥n = mismo resultado

### üîß **Herramientas que usamos:**

- **@reduxjs/toolkit**: Redux moderno y f√°cil
- **react-redux**: Conecta React con Redux
- **useSelector**: Lee datos del Store
- **useDispatch**: Env√≠a acciones al Store
- **createSlice**: Crea reducer + actions autom√°ticamente

### üéâ **Resultado:**

¬°Datos centralizados, compartidos y f√°ciles de manejar en toda tu app!

---

## 13.- Construir y Distribuir la App con Expo

### üîß **Prerrequisitos:**

- Cuenta en Expo (ya la tienes ‚úÖ)
- Expo CLI actualizado
- Aplicaci√≥n Expo Go en tu celular

### üì± **Opci√≥n 1: Desarrollo (Expo Go) - M√°s R√°pido**

#### Paso 1: Instalar Expo Go en tu celular

- **Android**: [Google Play Store](https://play.google.com/store/apps/details?id=host.exp.exponent)
- **iOS**: [App Store](https://apps.apple.com/app/expo-go/id982107779)

#### Paso 2: Ejecutar en modo desarrollo

```bash
npx expo start
```

#### Paso 3: Escanear QR

- Abre Expo Go en tu celular
- Escanea el c√≥digo QR que aparece en la terminal
- ¬°Tu app se instalar√° autom√°ticamente!

### üì¶ **Opci√≥n 2: Build Nativo (APK/IPA) - Instalaci√≥n Real**

#### Paso 1: Instalar EAS CLI

```bash
npm install -g eas-cli
```

#### Paso 2: Login en Expo

```bash
eas login
```

#### Paso 3: Configurar el proyecto

```bash
eas build:configure
```

#### Paso 4: Construir para Android (APK)

```bash
# Para desarrollo (APK que puedes instalar directamente)
eas build --platform android --profile preview

# Para producci√≥n (Google Play Store)
eas build --platform android --profile production
```

#### Paso 5: Construir para iOS (si tienes Mac)

```bash
# Para desarrollo (TestFlight)
eas build --platform ios --profile preview

# Para producci√≥n (App Store)
eas build --platform ios --profile production
```

### üìã **Configuraci√≥n en eas.json (se crea autom√°ticamente):**

```json
{
  "cli": {
    "version": ">= 8.0.0"
  },
  "build": {
    "development": {
      "developmentClient": true,
      "distribution": "internal"
    },
    "preview": {
      "distribution": "internal",
      "android": {
        "buildType": "apk"
      }
    },
    "production": {}
  },
  "submit": {
    "production": {}
  }
}
```

### üöÄ **Proceso Completo para APK:**

```bash
# 1. Aseg√∫rate de estar en la carpeta del proyecto
cd "c:\Frank\Cursos\reactNative\RickyAndMorti"

# 2. Login en Expo
eas login

# 3. Configurar EAS
eas build:configure

# 4. Construir APK
eas build --platform android --profile preview
```

### üì• **Descargar e Instalar:**

1. **Espera el build** (5-15 minutos)
2. **Recibes notificaci√≥n** en tu email/dashboard de Expo
3. **Descarga el APK** desde el link proporcionado
4. **Instala en Android**:
   - Habilita "Fuentes desconocidas" en configuraci√≥n
   - Instala el APK descargado

### üì± **M√©todos para Instalar el APK (sin USB):**

#### ‚úÖ **M√©todo 1: Descarga directa en el celular (M√°s f√°cil)**
1. **Abre el email** en tu celular (que llega de Expo)
2. **Toca el link** de descarga del APK
3. **Descarga directamente** en tu celular
4. **Instala** desde las notificaciones o administrador de archivos

#### ‚úÖ **M√©todo 2: Dashboard de Expo**
1. Ve a [expo.dev](https://expo.dev) **en tu celular**
2. Login con tu cuenta
3. Ve a "Projects" ‚Üí Tu proyecto
4. Toca "Download" en el build completado
5. Instala el APK descargado

#### ‚úÖ **M√©todo 3: Compartir desde PC**
1. **En tu PC**: Ve al dashboard de Expo
2. **Copia el link** de descarga del APK
3. **Env√≠ate el link** por WhatsApp, Telegram, etc.
4. **Abre el link en tu celular** y descarga
5. **Instala el APK**

#### ‚ö° **M√©todo 4: QR Code (si est√° disponible)**
1. En el dashboard puede aparecer un **QR code**
2. **Escan√©alo con tu celular**
3. **Descarga autom√°tica** del APK

### üîß **Configurar Android para instalar APKs:**

#### En Android 8+ (API 26+):
1. **Configuraci√≥n** ‚Üí **Seguridad**
2. **Fuentes desconocidas** ‚Üí Habilitar
3. O cuando instales, Android te preguntar√° autom√°ticamente

#### En Android moderno:
1. Cuando toques el APK, Android dir√°: *"Esta aplicaci√≥n no est√° disponible en Play Store"*
2. Toca **"Configuraci√≥n"**
3. Habilita **"Permitir desde esta fuente"**
4. Vuelve e **instala normalmente**

### ‚ùå **Por qu√© no necesitas USB:**

- **EAS Build** genera un APK **independiente**
- Se **descarga directamente** del servidor de Expo
- **No requiere** Android Studio ni ADB
- **No necesitas** modo desarrollador ni depuraci√≥n USB
